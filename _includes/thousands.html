{% capture output %}
  {% assign digits = include.number | split:'' %}
  {% for digit in digits %}
    {% assign three_from_end = digits.size | minus: forloop.index | modulo: 3 %}
    {% if three_from_end == 2 and forloop.index != 1 %}
      {{ digit | prepend: ',' }}
    {% else %}
      {{ digit }}
    {% endif %}
  {% endfor %}
{% endcapture %}

{{ output | strip_newlines | remove: " " }}
