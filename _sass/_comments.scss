section#comments {
  #mastodon-comments-wrapper {
    margin-top: 2em;
  }

  button {
    display: block;
    margin-inline: auto;
  }

  .comment {
    border-radius: 2em;
    margin: 2em auto 2em -1em;
    padding: 1em;
    transition: background-color 100ms ease;

    /* FIXME: Doesn't handle nesting correctly */
    // &.reply {
    //   margin-left: 3rem;
    //   position: relative;

    //   &::before {
    //     background: var(--faint);
    //     content: "";
    //     display: block;
    //     height: 100%;
    //     left: 1.125rem;
    //     position: absolute;
    //     width: 0.25em;
    //     z-index: 0;
    //   }
    // }

    &:hover {
      background-color: var(--faint);
    }

    header {
      display: grid;
      grid-template-columns: 2.5rem max-content;
      grid-template-rows: 1.25rem 1.25rem;
      column-gap: 0.5rem;

      .avatar {
        height: 2.5rem;
        overflow: hidden;
        position: relative;
        width: 2.5rem;
      }

      .display-name {
        font-weight: bold;
        margin-right: 0.125em;
      }

      .account {
        opacity: 0.67;
      }

      time {
        @extend small;
        grid-row: 2;
        grid-column: 2;
      }
    }

    main {
      margin-left: 3rem;

      p:last-child {
        margin-bottom: 1em;
      }

      /* FIXME: not precise enough */
      // Hide @-mentions to me when they are the first word
      // .h-card:first-child .mention[href='https://mastodon.blaede.family/@cassidy'] {
      //   display: none;
      // }

      a {
        .invisible {
          display: none;
        }

        .ellipsis::after {
          content: "â€¦";
        }
      }
    }

    footer {
      @extend small;

      column-gap: 1em;
      display: flex;
      opacity: 0.75;
      margin-left: 3rem;

      a:hover {
        text-decoration: inherit;
      }
    }

    .emoji {
      display: inline;
      height: 1.25em;
      vertical-align: middle;
      width: 1.25em;
    }
  }
}
